import{r,w as I,j as o,q as T,A as v,S as y,x as n,y as m,z as w,B as $,h as e}from"./index-d14ee54d.js";function P(){const[s,l]=r.useState({}),[a,d]=r.useState({}),[u,g]=r.useState([]),[i,f]=r.useState(!0);let{username:c}=I();return r.useEffect(()=>{(async()=>{try{const t=setTimeout(async()=>{const x=await e.get(`/users/${c}`),j=await e.get(`/card/v1/${s._id}`),b=await e.get(`/icon/${s._id}`),[p,k,C]=await Promise.all([x,j,b]);l(p.data),d(k.data),g(C.data),f(!1)},1e3);return()=>{clearTimeout(t)}}catch(t){console.error("Error fetching data:",t)}})()},[c,s._id]),o.jsx("section",{className:"profile",children:i?o.jsx(T,{isLoading:i}):o.jsxs(o.Fragment,{children:[a!=null&&a.backgroundVideo?o.jsx(o.Fragment,{children:a!=null&&a.backgroundVideo?o.jsx(o.Fragment,{children:o.jsx("video",{className:"profile-background",type:"video/webm",loop:!0,autoPlay:!0,src:a==null?void 0:a.backgroundVideo})}):o.jsx("img",{className:"profile-background",src:a==null?void 0:a.backgroundImg,alt:""})}):o.jsx(o.Fragment,{children:a!=null&&a.gadientColorBot||a!=null&&a.gadientColorTop?o.jsx(o.Fragment,{children:a!=null&&a.gadientColorBot&&(a!=null&&a.gadientColorTop)?o.jsx("div",{className:"profile-background",style:{backgroundImage:`linear-gradient(${a==null?void 0:a.gadientColorTop},${a==null?void 0:a.gadientColorBot})`}}):o.jsx("div",{className:"profile-background",style:{backgroundColor:`${(a==null?void 0:a.gadientColorTop)||(a==null?void 0:a.gadientColorBot)}`}})}):o.jsx("div",{className:"profile-background",style:{backgroundColor:`${a==null?void 0:a.bgColor}`}})}),o.jsxs("div",{className:"profile-info",children:[o.jsx(v,{username:s.username,usernameTitle:s.usernameTitle,decs:s.decs,avatar:s.avtImg,fontColor:a==null?void 0:a.font_color}),o.jsx(y,{icons:u}),o.jsx(n,{title:"Facebook",icon:m(35,35),link:"https://www.facebook.com/"}),o.jsx(n,{title:"Youtube",icon:w(35,35),link:""}),o.jsx(n,{title:"Instagram",icon:$(35,35)})]})]})})}export{P as default};
