import{i as x,r as t,u as N,x as m,j as s,s as w,A as P,y as S,h as e,z as _,B}from"./index-d97bb345.js";function U(){const c=x(o=>o.user.currentUser),r=x(o=>o.theme.currentTheme),[i,k]=t.useState({}),[a,b]=t.useState({}),[F,j]=t.useState([]),[d,C]=t.useState(!0),[l,T]=t.useState([]),u=N();let{username:g}=m();return t.useEffect(()=>{(async()=>{try{const n=setTimeout(async()=>{const v=await e.get(`/users/${g}`),y=await e.get(`/card/v1/${c._id}`),I=await e.get(`/icon/${c._id}`),$=await e.get(`/link/${r==null?void 0:r._id}`),[p,f,D,L]=await Promise.all([v,y,I,$]);u(_(p.data)),u(B(f.data)),k(p.data),b(f.data),j(D.data),T(L.data),C(!1)},1e3);return()=>{clearTimeout(n)}}catch(n){console.error("Error fetching data:",n)}})()},[g,c._id,r==null?void 0:r._id]),s.jsx("section",{className:"profile",children:d?s.jsx(w,{isLoading:d,profileLoading:!0}):s.jsxs(s.Fragment,{children:[a!=null&&a.backgroundVideo||a!=null&&a.backgroundImg?s.jsx(s.Fragment,{children:a!=null&&a.backgroundVideo?s.jsx(s.Fragment,{children:s.jsx("video",{className:"profile-background",type:"video/webm",loop:!0,autoPlay:!0,src:a==null?void 0:a.backgroundVideo})}):s.jsx("img",{className:"profile-background",src:a==null?void 0:a.backgroundImg,alt:a==null?void 0:a.backgroundImg})}):s.jsx(s.Fragment,{children:a!=null&&a.gadientColorBot||a!=null&&a.gadientColorTop?s.jsx(s.Fragment,{children:a!=null&&a.gadientColorBot&&(a!=null&&a.gadientColorTop)?s.jsx("div",{className:"profile-background",style:{backgroundImage:`linear-gradient(${a==null?void 0:a.gadientColorTop},${a==null?void 0:a.gadientColorBot})`}}):s.jsx("div",{className:"profile-background",style:{backgroundColor:`${(a==null?void 0:a.gadientColorTop)||(a==null?void 0:a.gadientColorBot)}`}})}):s.jsx("div",{className:"profile-background",style:{backgroundColor:`${a==null?void 0:a.bgColor}`}})}),s.jsxs("div",{className:"profile-info",children:[s.jsx(P,{username:i.username,usernameTitle:i.usernameTitle,decs:i.decs,avatar:i.avtImg,fontColor:a==null?void 0:a.font_color}),l==null?void 0:l.map((o,n)=>s.jsx(S,{title:o.urlTitle,icon:o.urlThumbnail,link:o.url},n))]})]})})}export{U as default};
