import{u,r as i,a as N,b as m,j as s,c as w,A as L,S as P,d as _,h as l,l as F,t as B,e as E}from"./index-3dfea82f.js";function A(){const r=u(o=>o.user.currentUser),t=u(o=>o.theme.currentTheme),e=u(o=>o.url.currentUrl),[c,b]=i.useState({}),[a,j]=i.useState({}),[k,C]=i.useState([]),[g,T]=i.useState(!0),d=N();let{username:f}=m();return i.useEffect(()=>{(async()=>{try{const n=setTimeout(async()=>{const v=await l.get(`/users/${f}`),I=await l.get(`/card/v1/${r==null?void 0:r._id}`),S=await l.get(`/icon/${r==null?void 0:r._id}`),$=await l.get(`/link/${t==null?void 0:t._id}`),[p,x,y,D]=await Promise.all([v,I,S,$]);d(F(p.data)),d(B(x.data)),d(E(D.data)),b(p.data),j(x.data),C(y.data),T(!1)},1e3);return()=>{clearTimeout(n)}}catch(n){console.error("Error fetching data:",n)}})()},[f,r._id,t==null?void 0:t._id]),s.jsx("section",{className:"profile",children:g?s.jsx(w,{isLoading:g,profileLoading:!0}):s.jsxs(s.Fragment,{children:[a!=null&&a.backgroundVideo||a!=null&&a.backgroundImg?s.jsx(s.Fragment,{children:a!=null&&a.backgroundVideo?s.jsx(s.Fragment,{children:s.jsx("video",{className:"profile-background",type:"video/webm",loop:!0,autoPlay:!0,src:a==null?void 0:a.backgroundVideo})}):s.jsx("img",{className:"profile-background",src:a==null?void 0:a.backgroundImg,alt:a==null?void 0:a.backgroundImg})}):s.jsx(s.Fragment,{children:a!=null&&a.gadientColorBot||a!=null&&a.gadientColorTop?s.jsx(s.Fragment,{children:a!=null&&a.gadientColorBot&&(a!=null&&a.gadientColorTop)?s.jsx("div",{className:"profile-background",style:{backgroundImage:`linear-gradient(${a==null?void 0:a.gadientColorTop},${a==null?void 0:a.gadientColorBot})`}}):s.jsx("div",{className:"profile-background",style:{backgroundColor:`${(a==null?void 0:a.gadientColorTop)||(a==null?void 0:a.gadientColorBot)}`}})}):s.jsx("div",{className:"profile-background",style:{backgroundColor:`${a==null?void 0:a.bgColor}`}})}),s.jsxs("div",{className:"profile-info",children:[s.jsx(L,{username:c.username,usernameTitle:c.usernameTitle,decs:c.decs,avatar:c.avtImg,fontColor:a==null?void 0:a.font_color}),s.jsx(P,{icons:k}),e==null?void 0:e.map((o,n)=>s.jsx(_,{title:o.urlTitle,icon:o.urlThumbnail,link:o.url},n))]})]})})}export{A as default};
