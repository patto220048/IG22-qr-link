import{r as s,j as t,f as d,A as m,S as g,d as p,h as r}from"./index-0e735d42.js";import{F as x}from"./Footer-63c9da74.js";function f({user:o}){const[a,e]=s.useState({}),[c,l]=s.useState([]);return s.useEffect(()=>{(async()=>{try{const i=await r.get(`/card/v1/${o==null?void 0:o._id}`);e(i.data)}catch(i){console.log(i)}})()},[o==null?void 0:o._id]),s.useEffect(()=>{(async()=>{try{const i=await r.get(`/link/${o==null?void 0:o._id}`);l(i.data)}catch(i){console.log(i)}})()},[o==null?void 0:o._id]),t.jsxs("section",{className:"CommunityItem",children:[a!=null&&a.backgroundImg||a!=null&&a.backgroundVideo?t.jsx(t.Fragment,{children:a!=null&&a.backgroundVideo?t.jsx("video",{className:"template-bg",type:"video/webm",loop:!0,autoPlay:!0,muted:!0,src:a==null?void 0:a.backgroundVideo}):t.jsx(d.LazyLoadImage,{className:"template-bg",src:a==null?void 0:a.backgroundImg,effect:"blur",alt:a==null?void 0:a.backgroundImg})}):t.jsx(t.Fragment,{children:a!=null&&a.gadientColorBot||a!=null&&a.gadientColorTop?t.jsx(t.Fragment,{children:a!=null&&a.gadientColorTop&&(a!=null&&a.gadientColorBot)?t.jsx("div",{className:"template-bg",style:{backgroundImage:`linear-gradient(${a==null?void 0:a.gadientColorTop},${a==null?void 0:a.gadientColorBot})`}}):t.jsx("div",{className:"template-bg",style:{backgroundColor:`${(a==null?void 0:a.gadientColorBot)||(a==null?void 0:a.gadientColorTop)}`}})}):t.jsx("div",{className:"template-bg",style:{backgroundColor:`${a==null?void 0:a.bgColor}`}})}),t.jsxs("div",{className:"template-profile","aria-disabled":!0,children:[t.jsx(m,{user:o,commu:!0,theme:a,preview:!0,usernameTitle:o.usernameTitle,decs:o.decs,avatar:o.avtImg,username:o.username,fontColor:a==null?void 0:a.font_color}),t.jsx("div",{className:"template-icon",children:t.jsx(g,{icons:o==null?void 0:o.groupIcon,commu:!0})}),t.jsx("div",{className:"template-info-items",children:(c==null?void 0:c.length)>0?c==null?void 0:c.map((n,i)=>n.cardId===(a==null?void 0:a._id)&&t.jsx(p,{commu:!0,theme:a,preview:!0,title:n.urlTitle,icon:n.urlThumbnail,thumbnailImage:n.thumbnailImage,link:n.url,acticve:n.acticve,decs:n.decs,headerStyte:n.headerStyle},i)):t.jsx(t.Fragment,{})})]})]})}function j(){const[o,a]=s.useState([]);return s.useEffect(()=>{(async()=>{try{const c=await r.get("/users");a(c.data)}catch(c){console.log(c)}})()},[]),t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"CommunityList",children:o.map(e=>t.jsx(f,{user:e},e._id))}),t.jsx(x,{})]})}function C(){return t.jsxs("div",{className:"Community",children:[t.jsx("h1",{children:"Community"}),t.jsx("div",{className:"Community-wapper",children:t.jsx(j,{})})]})}export{C as default};
