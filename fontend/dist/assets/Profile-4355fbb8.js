import{u,r as n,a as D,b as N,j as s,c as w,A as L,S as P,d as _,h as l,l as F,t as B,e as E}from"./index-262e0232.js";function A(){const t=u(o=>o.user.currentUser),r=u(o=>o.theme.currentTheme),e=u(o=>o.url.currentUrl),[c,x]=n.useState({}),[a,j]=n.useState({}),[k,v]=n.useState([]),[g,C]=n.useState(!0),d=D();let{username:f}=N();return n.useEffect(()=>{(async()=>{try{const i=setTimeout(async()=>{const I=await l.get(`/users/${f}`),T=await l.get(`/card/v1/${t==null?void 0:t._id}`),m=await l.get(`/icon/${t==null?void 0:t._id}`),S=await l.get(`/link/${r==null?void 0:r._id}`),[p,b,$,y]=await Promise.all([I,T,m,S]);d(F(p.data)),d(B(b.data)),d(E(y.data)),x(p.data),j(b.data),v($.data),C(!1)},1e3);return()=>{clearTimeout(i)}}catch(i){console.error("Error fetching data:",i)}})()},[f,t==null?void 0:t._id,r==null?void 0:r._id]),s.jsx("section",{className:"profile",children:g?s.jsx(w,{isLoading:g,profileLoading:!0}):s.jsxs(s.Fragment,{children:[a!=null&&a.backgroundVideo||a!=null&&a.backgroundImg?s.jsx(s.Fragment,{children:a!=null&&a.backgroundVideo?s.jsx(s.Fragment,{children:s.jsx("video",{className:"profile-background",type:"video/webm",loop:!0,autoPlay:!0,src:a==null?void 0:a.backgroundVideo})}):s.jsx("img",{className:"profile-background",src:a==null?void 0:a.backgroundImg,alt:a==null?void 0:a.backgroundImg})}):s.jsx(s.Fragment,{children:a!=null&&a.gadientColorBot||a!=null&&a.gadientColorTop?s.jsx(s.Fragment,{children:a!=null&&a.gadientColorBot&&(a!=null&&a.gadientColorTop)?s.jsx("div",{className:"profile-background",style:{backgroundImage:`linear-gradient(${a==null?void 0:a.gadientColorTop},${a==null?void 0:a.gadientColorBot})`}}):s.jsx("div",{className:"profile-background",style:{backgroundColor:`${(a==null?void 0:a.gadientColorTop)||(a==null?void 0:a.gadientColorBot)}`}})}):s.jsx("div",{className:"profile-background",style:{backgroundColor:`${a==null?void 0:a.bgColor}`}})}),s.jsxs("div",{className:"profile-info",children:[s.jsx(L,{username:c.username,usernameTitle:c.usernameTitle,decs:c.decs,avatar:c.avtImg,fontColor:a==null?void 0:a.font_color}),s.jsx(P,{icons:k}),e==null?void 0:e.map((o,i)=>s.jsx(_,{title:o.urlTitle,icon:o.urlThumbnail,link:o.url,acticve:o.acticve,thumbnailImage:o.thumbnailImage},i))]})]})})}export{A as default};
